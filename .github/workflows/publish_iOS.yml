name: Sign and Publish iOS Library

on:
  pull_request:
    branches: [ maintainance ]
#  workflow_dispatch:
#    inputs:
#      versionName:
#        description: 'Version Name'
#        required: true

jobs:

#  apply-copyright:
#    name: 🗒️ Apply Copyright
#    runs-on: ubuntu-latest
#    steps:
#
#      - name: Checkout code
#        uses: actions/checkout@v3
#
#      - name: Make gradle executable
#        run: chmod +x ./gradlew
#
#      - name: Apply Copyright
#        run: ./gradlew :daraja:spotlessApply --stacktrace
#
#  build:
#    name: 🔨 Build
#    runs-on: ubuntu-latest
#    needs: [apply-copyright]
#    steps:
#
#      - name: Checkout code
#        uses: actions/checkout@v3
#
#      - name: Set up JDK 11
#        uses: actions/setup-java@v3
#        with:
#          distribution: 'adopt'
#          java-version: '11'
#
#      - name: Make gradle executable
#        run: chmod +x ./gradlew
#
#      - name: Build with gradle
#        run: ./gradlew :daraja:build --stacktrace
#
#  lint-check:
#    name: 🔍 Lint Check
#    runs-on: ubuntu-latest
#    needs: [apply-copyright]
#    steps:
#
#      - name: Checkout code
#        uses: actions/checkout@v3
#
#      - name: Make gradle executable
#        run: chmod +x ./gradlew
#
#      - name: Lint check
#        run: ./gradlew :daraja:ktlintCheck --stacktrace
#
#  unit-tests:
#    name: 🧪 Run Tests
#    runs-on: ubuntu-latest
#    needs: [apply-copyright]
#    steps:
#
#      - name: Checkout code
#        uses: actions/checkout@v3
#
#      - name: Set up JDK 11
#        uses: actions/setup-java@v3
#        with:
#          distribution: 'adopt'
#          java-version: '11'
#
#      - name: Make gradle executable
#        run: chmod +x ./gradlew
#
#      - name: Execute unit tests
#        run: ./gradlew :daraja:allTests --stacktrace

  deploy-android:
    name: 🚀 Sign and Publish iOS Library
    steps:
      
      - name: Make gradle executable
        run: chmod +x ./gradlew

      - name: Publish Swift Package
        uses: touchlab/KMMBridgeGithubWorkflow/.github/workflows/faktorybuildbranches.yml@v0.6